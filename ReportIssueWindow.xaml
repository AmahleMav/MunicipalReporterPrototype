<Window x:Class="MunicipalReporterPrototype.ReportIssueWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:MunicipalReporterPrototype"
        Title="Report an Issue"
        Height="560" Width="680"
        Background="#f7f9fb"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Color x:Key="PrimaryColor">#3498db</Color>
        <Color x:Key="AccentColor">#2ecc71</Color>
        <Color x:Key="Neutral">#95a5a6</Color>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource PrimaryColor}"/>
        <SolidColorBrush x:Key="NeutralBrush" Color="{StaticResource Neutral}"/>

        <DropShadowEffect x:Key="DropShadow" Color="Black" BlurRadius="10" ShadowDepth="3" Opacity="0.18"/>

        <Style TargetType="Button" x:Key="PrimaryButton">
            <Setter Property="Height" Value="40"/>
            <Setter Property="Padding" Value="12,4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="BorderBrush" Value="#2980b9"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="SecondaryButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="{StaticResource NeutralBrush}"/>
            <Setter Property="BorderBrush" Value="#7f8c8d"/>
        </Style>


        <Style TargetType="TextBlock" x:Key="LabelStyle">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#2c3e50"/>
        </Style>
    </Window.Resources>

    <Grid Margin="18">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Report an Issue"
                   FontSize="24" FontWeight="Bold"
                   Foreground="#2c3e50"
                   HorizontalAlignment="Center"
                   Margin="0,6,0,18"/>


        <Border Grid.Row="1" Background="White" CornerRadius="10" Padding="18" 
                Effect="{StaticResource DropShadow}" BorderBrush="#e6ecf0" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,12,0">
                    <TextBlock Text="Location" Style="{StaticResource LabelStyle}" />
                    <ComboBox x:Name="cmbLocation" Height="34" Margin="0,6,0,12" IsEditable="False"
                              VerticalContentAlignment="Center">

                        <ComboBoxItem Content="Durban Central"/>
                        <ComboBoxItem Content="Berea"/>
                        <ComboBoxItem Content="Glenwood"/>
                        <ComboBoxItem Content="Glenmore"/>
                        <ComboBoxItem Content="Durban North"/>
                        <ComboBoxItem Content="Morningside"/>
                        <ComboBoxItem Content="Umbilo"/>
                        <ComboBoxItem Content="Westville"/>
                        <ComboBoxItem Content="Musgrave"/>
                        <ComboBoxItem Content="Overport"/>
                        <ComboBoxItem Content="Chatsworth"/>
                        <ComboBoxItem Content="Phoenix"/>
                        <ComboBoxItem Content="Umlazi"/>
                        <ComboBoxItem Content="Reservoir Hills"/>
                        <ComboBoxItem Content="Mayville"/>
                    </ComboBox>

                    <TextBlock Text="Category" Style="{StaticResource LabelStyle}"/>
                    <ComboBox x:Name="cmbCategory" Height="34" Margin="0,6,0,12" VerticalContentAlignment="Center">
                        <ComboBoxItem Content="Sanitation"/>
                        <ComboBoxItem Content="Roads"/>
                        <ComboBoxItem Content="Utilities"/>
                        <ComboBoxItem Content="Electricity"/>
                        <ComboBoxItem Content="Water"/>
                        <ComboBoxItem Content="Environment"/>
                        <ComboBoxItem Content="Other"/>
                    </ComboBox>

                    <TextBlock Text="Priority" Style="{StaticResource LabelStyle}"/>
                    <ComboBox x:Name="cmbPriority" Height="34" Margin="0,6,0,12" VerticalContentAlignment="Center">
                        <ComboBoxItem Content="Low"/>
                        <ComboBoxItem Content="Normal" IsSelected="True"/>
                        <ComboBoxItem Content="High"/>
                    </ComboBox>

                    <TextBlock Text="Preferred Contact (optional)" Style="{StaticResource LabelStyle}"/>
                    <TextBox x:Name="txtContact" Height="34" Margin="0,6,0,6" />
                </StackPanel>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="Description" Style="{StaticResource LabelStyle}"/>
                    <RichTextBox x:Name="rtbDescription" Height="160" Margin="0,8,0,12" VerticalScrollBarVisibility="Auto">
                        <FlowDocument>
                            <Paragraph>
                                <Run/>
                            </Paragraph>
                        </FlowDocument>
                    </RichTextBox>

                    <!-- Attachments -->
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,4,0,8">
                        <Button x:Name="btnAttachFile" Content=" Attach Image/Document" Width="190" Style="{StaticResource PrimaryButton}" Click="btnAttachFile_Click"/>
                        <TextBlock x:Name="lblAttachment" Text="No file attached" Margin="12,0,0,0" VerticalAlignment="Center" Foreground="#7f8c8d" FontStyle="Italic"/>
                    </StackPanel>

                    <!-- Progress & hint -->
                    <TextBlock Text="Upload / Processing" Style="{StaticResource LabelStyle}" Margin="0,6,0,4"/>
                    <ProgressBar x:Name="progressReport" Height="18" Minimum="0" Maximum="100" Value="0" Margin="0,0,0,6"/>
                    <TextBlock Text="Please provide a clear description and attach photos if possible." Foreground="#7f8c8d" FontSize="12"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Action buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,18,0,6">
            <Button x:Name="btnSubmit" Content=" Submit" Width="140" Margin="6,0" Style="{StaticResource PrimaryButton}" Click="btnSubmit_Click"/>
            <Button x:Name="btnBack" Content="⬅ Back to Main Menu" Width="180" Margin="6,0" Style="{StaticResource SecondaryButton}" Click="btnBack_Click"/>
        </StackPanel>
    </Grid>
</Window>
